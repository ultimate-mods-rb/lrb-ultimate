(gh2
   {$gems_dir insert (subdirs 0) "ulti/track/gems/gh2/gems.milo"} ; gems stolen from rb3dx
   {foreach $gtr (guitar bass)
      {with {{get_track_panel} find $gtr}
         {foreach $color (green red yellow blue orange)
            {do
               ($wid {sprintf "gem_%s.wid" $color})
               ($hopo_wid {sprintf "gem_%s_hopo.wid" $color})
               {while {size {$wid get_array meshes}}
                  {$wid remove (meshes 0)}
               }
               {while {size {$hopo_wid get_array meshes}}
                  {$hopo_wid remove (meshes 0)}
               }
               {$wid insert (meshes 0) {$gems_dir find {sprintf "strum_%s.mesh" $color}}}
               {$hopo_wid insert (meshes 0) {$gems_dir find {sprintf "hopo_%s.mesh" $color}}}
            }
         }

         {while {size {star_gem.wid get_array meshes}}
            {star_gem.wid remove (meshes 0)}
         }
         {star_gem.wid insert (meshes 0) {$gems_dir find strum_style.mesh}}

         {while {size {star_hopo.wid get_array meshes}}
            {star_hopo.wid remove (meshes 0)}
         }
         {star_hopo.wid insert (meshes 0) {$gems_dir find hopo_style.mesh}}
      }
   }
)